<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" id="_spa">
        window._spa = {version: "", appUrl: "app", cssUrl: "css", libsUrl: "libs", sysPath: "spa", settings: {usePreloadedTemplates: false}};
    </script>
    <script>
        var require = {baseUrl: window._spa.appUrl};
        if (window._spa && window._spa.version) {
            require.urlArgs = "v=" + window._spa.version;
        }
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="vb spa demo">
    <meta name="author" content="vb">

    <title>SPA app demo</title>

    <script id="_css">
        var u = (window._spa.cssUrl ? window._spa.cssUrl : "") + "/", 
            q = window._spa.version ? "?" + require.urlArgs : "";
        document.write(
            '<link rel="stylesheet" href="' + u + 'bootstrap.css"' + q + '" />' +
            '<link rel="stylesheet" href="' + u + 'default.css"' + q + '" />' +
            '<link rel="stylesheet" href="' + u + 'navigation.css"' + q + '" />'
        );
    </script>
</head>
<body>

    <div id="loading-screen" style="display: none"></div>
    <script type="text/javascript">
        document.getElementById("loading-screen").innerHTML = "Detecting features...";
        document.write('<script src="' + (window._spa && window._spa.libsUrl ? window._spa.libsUrl : "") + '/feature-detect.js">\x3C/script>');
    </script>
    <script id="loading-screen-script" type="text/javascript">
    (function() {
        for (var feature in Modernizr) {
            if (!Modernizr[feature]) {
                window.location = "/not-supported.html";
                return;
            }
        }
        var e = document.getElementById("loading-screen");
        e.innerHTML = "Loading...";
        setTimeout(function(){e.removeAttribute("style")}, 500);
    })()
    </script>

    <div id="app-container" style="display: none">
    </div>

    <script type="text/javascript" 
            data-main="main.js" 
            src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.min.js">
    </script>
    <script type="text/javascript">
        var libsUrl = window._spa && window._spa.libsUrl ? window._spa.libsUrl : "",
            libs = libsUrl ? "../" + libsUrl: "../libs"
            sysUrl = (window._spa.sysPath ? window._spa.sysPath : "spa") + "/";
        window.requirejs || 
            document.write(
                '<script data-main="main.js" src="' + libsUrl + '/require.js">\x3C/script>'
            );
        requirejs.config({
            paths: {
                libs: libs,
                text: ["https://cdnjs.cloudflare.com/ajax/libs/require-text/2.0.12/text.min", "libs/text"],
                sys: sysUrl,
                template: sysUrl + "template",
                "cors-text": sysUrl + "cors-text",
                "cors-template": sysUrl + "cors-template"
            }
        });
    </script>

</body>
</html>
